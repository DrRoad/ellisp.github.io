      <!DOCTYPE html>
	<html lang="en">
		<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
			<title>Minimalist Tufte-inspired axis text with Scottish-New Zealand historical material</title>
      	
         
         
            <meta name ="description" content ="The breaks= argument in scales in the ggplot2 universe makes it simple to do minimalist Tufte-inspired scales where the text and tick marks show the actual data values rather than just regular intervals.">
            <meta property="og:description" content ="The breaks= argument in scales in the ggplot2 universe makes it simple to do minimalist Tufte-inspired scales where the text and tick marks show the actual data values rather than just regular intervals.">
         
         <meta property="og:site_name" content="Peter's stats stuff" />
         <meta property="og:title" content="Minimalist Tufte-inspired axis text with Scottish-New Zealand historical material" />
         
            <meta property="og:image" content="http://ellisp.github.io/img/0040-females.png" />
         
         <meta property="og:url" content="http://ellisp.github.io/blog/2016/05/14/scots-female-ratio/" />
         <meta property="og:author" content= "https://www.facebook.com/peter.ellis.353" />
         <meta property="og:type" content="article" />
           
          <link href="/css/bootstrap.min.css" rel ="stylesheet">
          <link href="/css/bootstrap-theme.min.css" rel ="stylesheet">
            <link href="/css/custom.css" rel ="stylesheet">       
     <link rel="stylesheet" href="/css/Pygments/autumn.css">      
     <link rel="stylesheet" href="/css/Pygments/custom.css">      
            
            
   <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-65886313-1', 'auto');
     ga('send', 'pageview');

   </script>

   <style>
    ul li { margin-bottom: 9px; }
    ol li { margin-bottom: 9px; }
   </style>
   
   <link rel="alternate" type="application/rss+xml" title="Peter's stats stuff by Peter Ellis"
      href="/feed.xml">


      
		</head>
      
  <body role = "document">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
         <script src="/js/bootstrap.min.js"></script>
         
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Peter's stats stuff</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">All blog posts <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/blog">Ordered by date</a></li>
                  <li><a href="/blog/index_by_tag.html">Grouped by subject matter</a></li>
                  <li><a href = /blog/2016/05/22/robust-regression>Most recent post</a></li>
                 </ul>
            </li>
              <li><a href="/blog/showcase.html">Showcase</a></li>
              <li><a href="/presentations/index.html">Presentations</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  
  
      
			<div class="container">
			
			    <div class="jumbotron">
      <div class="container">
        <h1>Minimalist Tufte-inspired axis text with Scottish-New Zealand historical material</h1>
         <p class="meta">14 May 2016</p>
        
      </div>
    </div>




<div class = "post-summary">
<h2>TL;DR Summary:</h2>
   The breaks= argument in scales in the ggplot2 universe makes it simple to do minimalist Tufte-inspired scales where the text and tick marks show the actual data values rather than just regular intervals.
   <hr></hr>
</div>

<div class="post">
<div class="col-md-2">

</div>
  <div class="col-md-8">

  <h2 id="minimalist-axes-text-and-tick-marks">Minimalist axes text and tick marks</h2>

<p>One of the ideas in Edward Tufte’s <a href="http://www.amazon.com/Visual-Display-Quantitative-Information/dp/0961392142"><em>The Visual Display of Quantitative Information</em></a> was to minimise non-data-ink by dropping the regular text labelling values on axis guides, and instead using the axis guides to mark the values of the actual data.  For those of you with the book in front of you, I’m thinking of the graphic <em>Current Receipts of Government as a Percentage of Gross Domestic Product, 1970 and 1979</em>, on page 158 of the 2013 edition.</p>

<p>Looking for example data on which to apply this, I picked up a table from Rebecca Lenihan’s <a href="http://www.otago.ac.nz/press/books/otago115810.html"><em>From Alba to Aotearoa</em></a> which I’m reading at the moment.  It’s a comprehensive look at what can be known about Scottish immigrants to New Zealand from 1840 to 1920 and includes a fair amount of tabular information that is ideal for presentation with this sort of graphic.  Here’s where I got to with visualising one of her tables (Table 3.6 on page 105, for those following along), showing the disproportionately maleness of Scottish immigrants in the nineteenth century even compared to other ethnic groups.
<img src="/img/0040-females.svg" alt="plot" /></p>

<p>The key message from this graphic is that for both Scottish and Irish migrants to New Zealand in the nineteenth century, females were under-represented; but the ratio of females to males was noticeably lower for those of Scottish origin (all the provinces to the left of and above the pale blue diagonal line).</p>

<p>Lenihan’s original table includes a range of additional information that can’t be easily shown in this graphic, so the graphic is very much a complement rather than replacement of the detailed numeric information.  But for the two dimensions that it does show, it’s nice example of integration of detailed numeric data into spatial representation - a combination of numbers and graphic visualisation.</p>

<h2 id="features-of-this-approach">Features of this approach</h2>

<p>Now I’ve noticed the trick of over-riding the boring, traditional regular spacing of axis text and tick marks, I think it might become a regular part of the repertoire for sparse two-dimensional data.  The key technical features of this as a graphic include:</p>

<ul>
  <li>The province labels are carefully in pale grey, and the points representing the actual data are the final layer and in black so they are in the foreground of the graphic</li>
  <li>I use pale blue, with different shades of transparency, to put some of the non-data guides (like the line representing equality between the two ethnicities’ female-male ratios) into the background.</li>
  <li>Even with this sparse summarised data, some of the actual values are too close for the axis text to include every value.  In those cases (eg 81.3% and 81.5% female-male ratios for Canterbury and Otago people of Scottish descent) I’ve included a single average value as the axis text and tick mark, but used “rug” marks to indicate the two different actual values</li>
  <li>the vertical and horizontal coordinate systems are forced to be equal, so a centimetre of distance in either direction equates to the same amount of change in female-male ratio</li>
  <li>Because it’s all a homage to Tufte, I’ve used serif fonts rather than my usually preferred non-serifs…</li>
</ul>

<h2 id="using-the-breaks-argument-in-scalexxxcontinuous">Using the breaks= argument in scale_XXX_continuous()</h2>

<p>Here’s the code in R that does all that.  Big thanks to the authors of the <code>ggplot2</code>, <code>scales</code>, <code>ggrepel</code> and <code>ggthemes</code> R packages, and a note that the latest dev version (from GitHub) of <code>ggplot2</code> is needed for the subtitle and caption to work.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><a name="True-1"></a><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
<a name="True-2"></a><span class="kn">library</span><span class="p">(</span>scales<span class="p">)</span>
<a name="True-3"></a><span class="kn">library</span><span class="p">(</span>ggrepel<span class="p">)</span>
<a name="True-4"></a><span class="kn">library</span><span class="p">(</span>ggthemes<span class="p">)</span>
<a name="True-5"></a>
<a name="True-6"></a><span class="c1"># Ratio of females to males in the Scotland- and Ireland- born population in 1881</span>
<a name="True-7"></a>fem_ratio <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>
<a name="True-8"></a>   province <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Auckland&quot;</span><span class="p">,</span> <span class="s">&quot;Taranaki&quot;</span><span class="p">,</span> <span class="s">&quot;Hawke&#39;s Bay&quot;</span><span class="p">,</span> <span class="s">&quot;Wellington&quot;</span><span class="p">,</span> <span class="s">&quot;Marlborough&quot;</span><span class="p">,</span> <span class="s">&quot;Nelson&quot;</span><span class="p">,</span> <span class="s">&quot;West Coast&quot;</span><span class="p">,</span> <span class="s">&quot;Canterbury&quot;</span><span class="p">,</span> <span class="s">&quot;Otago&quot;</span><span class="p">),</span> 
<a name="True-9"></a>   scots <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">68.14</span><span class="p">,</span> <span class="m">55.24</span><span class="p">,</span> <span class="m">58.74</span><span class="p">,</span> <span class="m">71.07</span><span class="p">,</span> <span class="m">51.56</span><span class="p">,</span> <span class="m">52.66</span><span class="p">,</span> <span class="m">38.95</span><span class="p">,</span> <span class="m">67.80</span><span class="p">,</span> <span class="m">75.16</span><span class="p">)</span> <span class="o">/</span> <span class="m">100</span><span class="p">,</span>
<a name="True-10"></a>   irish <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">84.96</span><span class="p">,</span> <span class="m">43.40</span><span class="p">,</span> <span class="m">65.87</span><span class="p">,</span> <span class="m">87.73</span><span class="p">,</span> <span class="m">69.98</span><span class="p">,</span> <span class="m">50.20</span><span class="p">,</span> <span class="m">67.92</span><span class="p">,</span> <span class="m">81.28</span><span class="p">,</span> <span class="m">81.52</span><span class="p">)</span> <span class="o">/</span> <span class="m">100</span>
<a name="True-11"></a><span class="p">)</span>
<a name="True-12"></a>
<a name="True-13"></a><span class="c1"># create a set of axis tick/text breakpoints that combine those which are too close</span>
<a name="True-14"></a><span class="c1"># together for showing on screen:</span>
<a name="True-15"></a>sanitise_ticks <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> digits <span class="o">=</span> <span class="m">4</span><span class="p">){</span>
<a name="True-16"></a>   ticks <span class="o">&lt;-</span> <span class="kp">sort</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span><span class="kp">round</span><span class="p">(</span>x<span class="p">,</span> digits <span class="o">=</span> digits<span class="p">)))</span>
<a name="True-17"></a>   <span class="kr">for</span><span class="p">(</span>i <span class="kr">in</span> <span class="m">2</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>ticks<span class="p">)){</span>
<a name="True-18"></a>      <span class="kr">if</span><span class="p">(</span>ticks<span class="p">[</span>i<span class="p">]</span> <span class="o">-</span> ticks<span class="p">[</span>i<span class="m">-1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="m">0.004</span><span class="p">){</span>
<a name="True-19"></a>         ticks<span class="p">[</span>i<span class="m">-1</span><span class="p">]</span> <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>ticks<span class="p">[(</span>i<span class="m">-1</span><span class="p">)</span><span class="o">:</span>i<span class="p">])</span>
<a name="True-20"></a>         ticks<span class="p">[</span>i<span class="p">]</span> <span class="o">&lt;-</span> <span class="m">0</span>
<a name="True-21"></a>      <span class="p">}</span>
<a name="True-22"></a>   <span class="p">}</span>
<a name="True-23"></a>   ticks <span class="o">&lt;-</span> ticks<span class="p">[</span>ticks <span class="o">!=</span> <span class="m">0</span><span class="p">]</span> 
<a name="True-24"></a><span class="p">}</span>
<a name="True-25"></a>
<a name="True-26"></a>yticks <span class="o">&lt;-</span> sanitise_ticks<span class="p">(</span>fem_ratio<span class="o">$</span>irish<span class="p">)</span>
<a name="True-27"></a>xticks <span class="o">&lt;-</span> sanitise_ticks<span class="p">(</span>fem_ratio<span class="o">$</span>scots<span class="p">)</span>
<a name="True-28"></a>
<a name="True-29"></a>
<a name="True-30"></a><span class="c1"># Define a frequently used colour and draw plot:</span>
<a name="True-31"></a>linecol <span class="o">&lt;-</span> <span class="s">&quot;steelblue&quot;</span>
<a name="True-32"></a>
<a name="True-33"></a>ggplot<span class="p">(</span>fem_ratio<span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> scots<span class="p">,</span> y <span class="o">=</span> irish<span class="p">,</span> label <span class="o">=</span> province<span class="p">))</span> <span class="o">+</span>
<a name="True-34"></a>   theme_tufte<span class="p">()</span> <span class="o">+</span>
<a name="True-35"></a>   geom_abline<span class="p">(</span>intercept <span class="o">=</span> <span class="m">0</span><span class="p">,</span> slope <span class="o">=</span> <span class="m">1</span><span class="p">,</span> colour <span class="o">=</span> linecol<span class="p">,</span> alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
<a name="True-36"></a>   geom_point<span class="p">()</span> <span class="o">+</span>
<a name="True-37"></a>   geom_rug<span class="p">(</span>colour <span class="o">=</span> <span class="s">&quot;steelblue&quot;</span><span class="p">)</span> <span class="o">+</span>
<a name="True-38"></a>   geom_text_repel<span class="p">(</span>colour <span class="o">=</span> <span class="s">&quot;grey60&quot;</span><span class="p">,</span> segment.color <span class="o">=</span> <span class="kc">NA</span><span class="p">,</span> family <span class="o">=</span> <span class="s">&quot;serif&quot;</span><span class="p">)</span> <span class="o">+</span>
<a name="True-39"></a>   scale_x_continuous<span class="p">(</span>breaks <span class="o">=</span> xticks<span class="p">,</span> label <span class="o">=</span> percent<span class="p">)</span> <span class="o">+</span>
<a name="True-40"></a>   scale_y_continuous<span class="p">(</span>breaks <span class="o">=</span> yticks<span class="p">,</span> label <span class="o">=</span> percent<span class="p">)</span> <span class="o">+</span>
<a name="True-41"></a>   theme<span class="p">(</span>axis.text <span class="o">=</span> element_text<span class="p">(</span>colour <span class="o">=</span> <span class="s">&quot;steelblue&quot;</span><span class="p">),</span>
<a name="True-42"></a>         axis.ticks <span class="o">=</span> element_line<span class="p">(</span>colour <span class="o">=</span> <span class="s">&quot;steelblue&quot;</span><span class="p">))</span> <span class="o">+</span>
<a name="True-43"></a>   theme<span class="p">(</span>axis.text.x <span class="o">=</span> element_text<span class="p">(</span>angle <span class="o">=</span> <span class="m">60</span><span class="p">,</span> hjust <span class="o">=</span> <span class="m">1</span><span class="p">,</span> vjust <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span> <span class="o">+</span>
<a name="True-44"></a>   labs<span class="p">(</span>x <span class="o">=</span> <span class="s">&quot;\nScottish born\n&quot;</span><span class="p">,</span> y <span class="o">=</span> <span class="s">&quot;Irish born\n&quot;</span><span class="p">,</span> 
<a name="True-45"></a>        caption <span class="o">=</span> <span class="s">&quot;Source: Census, analysed in Lenihan &#39;From Alba to Aotearoa&#39;&quot;</span><span class="p">)</span> <span class="o">+</span>
<a name="True-46"></a>   ggtitle<span class="p">(</span><span class="s">&quot;Females as a percentage of males in New Zealand 1881&quot;</span><span class="p">,</span>
<a name="True-47"></a>           subtitle <span class="o">=</span> <span class="s">&quot;Selected places of birth shown&quot;</span><span class="p">)</span> <span class="o">+</span>
<a name="True-48"></a>   annotate<span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">,</span> x <span class="o">=</span> <span class="m">0.68</span><span class="p">,</span> y <span class="o">=</span> <span class="m">0.60</span><span class="p">,</span> colour <span class="o">=</span> linecol<span class="p">,</span> family <span class="o">=</span> <span class="s">&quot;serif&quot;</span><span class="p">,</span>
<a name="True-49"></a>            label <span class="o">=</span> <span class="s">&quot;Line shows same ratio\nfor Scots- and Irish- born&quot;</span><span class="p">,</span>
<a name="True-50"></a>            alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
<a name="True-51"></a>   coord_equal<span class="p">()</span></code></pre></div>



</div>

<div class = "container">
   <div class="col-md-4">
    
        <a rel="prev" href="/blog/2016/05/07/forecastHybrid">
        <p>&larr; Older</p>
        <p>Announcing new forecastHybrid package</p>
        
        </a>
    
    </div>
    <div class="col-md-4">
    </div>
    <div class="col-md-4" style="text-align: right;">
     
        <a rel="next" href="/blog/2016/05/22/robust-regression">
        <p>Newer &rarr;</p>
        <p>Visual contrast of two robust regression methods</p>
        
        </a>
    
      </div>
      </div>
      
      
      
</div>


   
    <div id="disqus_thread"></div>

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'statsinthewild';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'statsinthewild';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
    
   
			
			</div><!-- /.container -->

         

   <div class = "container footer">
			<footer>
	    		
            <p>Follow <a href = "/feed.xml">this blog with RSS</a>.  Or follow <a href = "/feed.r.xml">posts in this blog featuring R with RSS</a>.</p>
	
            <p>This blog is built with <a href = "http://jekyllrb.com/">Jekyll</a>, <a href = "http://getbootstrap.com/">Bootstrap</a>, <a href = "https://www.ruby-lang.org/en/">Ruby</a> and <a href = "https://cran.r-project.org/">R</a>.  Read my <a href="/about/acknowledgements.html">acknowledgements</a> for a little more on how.  I'm pleased to be aggregated at <a href="http://www.r-bloggers.com/">R-bloggers</a>, the one-stop shop for blog posts featuring R.</p>

            <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Peter's stats stuff</span> by <a href = "/about/index.html">Peter Ellis</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.


			</footer>
    </div>



  
</body>
</html>
   




         
